(this.webpackJsonpttstatistics=this.webpackJsonpttstatistics||[]).push([[0],{1026:function(t,e,n){},1027:function(t,e,n){"use strict";n.r(e);var a=n(1),i=n.n(a),o=n(482),r=n.n(o),d=n(112),c=n.n(d);c.a.initialize("barkio"),c.a.serverURL="https://api.production.barkio.com/parse",window.Parse=c.a;n(890);var s=n(92),l=n.n(s),u=n(168),f=n(53);function v(){return p.apply(this,arguments)}function p(){return(p=Object(u.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.Cloud.run("getStats");case 2:return e=t.sent,t.abrupt("return",e.map((function(t){return t.toJSON()})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.Cloud.run("getSubscriptionStats");case 2:return e=t.sent,n=function(t){return e[t].map((function(t){return{isTrial:t.get("isTrial"),productId:t.get("productId"),platform:t.get("platform"),renewal:t.get("renewal")}}))},t.abrupt("return",{today:n("today"),yesterday:n("yesterday")});case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var b=n(212),y=n.n(b);function h(t){var e,n,a=Object.entries(t),i=null===(e=a[0])||void 0===e?void 0:e[1],o=null===(n=a[1])||void 0===n?void 0:n[1],r=function(t){var e=t.day,n=void 0===e?[]:e,a=t.condition,i=["android","ios","web"],o={android:0,ios:0,web:0};return"subs"===a?i.forEach((function(t){n.forEach((function(e){e.platform===t&&(e.productId.match("monthly")||e.productId.match("yearly")||e.productId.match("546772")||e.productId.match("544756"))&&o[t]++}))})):"trials"===a?i.forEach((function(t){n.forEach((function(e){e.platform===t&&"true"===e.isTrial&&o[t]++}))})):"renewal"===a&&i.forEach((function(t){n.forEach((function(e){e.platform===t&&e.renewal>=1&&o[t]++}))})),{android:o.android,ios:o.ios,web:o.web}},d=r({day:i,condition:"subs"}),c=r({day:o,condition:"subs"}),s=r({day:i,condition:"trials"}),l=r({day:o,condition:"trials"}),u=r({day:i,condition:"renewal"}),f=r({day:o,condition:"renewal"}),v=function(t){var e=t.dayToShow,n=t.sub,a=t.trial,i=t.renewal;return{graphIndex:e,subs:(null===n||void 0===n?void 0:n.android)+(null===n||void 0===n?void 0:n.ios)+(null===n||void 0===n?void 0:n.web),trial:(null===a||void 0===a?void 0:a.android)+(null===a||void 0===a?void 0:a.ios)+(null===a||void 0===a?void 0:a.web),renewal:(null===i||void 0===i?void 0:i.android)+(null===i||void 0===i?void 0:i.ios)+(null===i||void 0===i?void 0:i.web)}},p=function(t){var e=t.sub,n=t.trial,a=t.renewal;return[{"android subscriptions":null===e||void 0===e?void 0:e.android,"ios subscriptions":null===e||void 0===e?void 0:e.ios,"web subscriptions":null===e||void 0===e?void 0:e.web},{"android trial":null===n||void 0===n?void 0:n.android,"ios trial":null===n||void 0===n?void 0:n.ios,"web trial":null===n||void 0===n?void 0:n.web},{"android renewal":null===a||void 0===a?void 0:a.android,"ios renewal":null===a||void 0===a?void 0:a.ios,"web renewal":null===a||void 0===a?void 0:a.web}]};return{graphSubsData:[v({dayToShow:"v\u010dera",sub:c,trial:l,renewal:f}),v({dayToShow:"dnes",sub:d,trial:s,renewal:u})],additionalInfoToday:p({sub:d,trial:s,renewal:u}),additionalInfoYesterday:p({sub:c,trial:l,renewal:f})}}function g(t){switch(t.id){case"ios":return"#00e6e6";case"android":return"#66ff99";case"web":return"#ffcc66";case"subs":return"#33ccff";case"trial":return"#ff66ff";case"renewal":return"#5cd65c"}}var E=n(483);function k(t){var e=t.data,n=void 0===e?[]:e,a=t.keys,o=void 0===a?[]:a,r=t.index,d=void 0===r?"":r,c=t.show;return i.a.createElement("div",{className:"graph-resolution"},i.a.createElement(E.a,{data:n,keys:o,indexBy:d,margin:{top:50,right:130,bottom:50,left:60},padding:.3,colors:function(t){return void 0===g(t)?"":g(t)},borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"dny",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"downloads"===c?" sta\u017een\xed":"p\u0159edplatn\xe9",legendPosition:"middle",legendOffset:-40},labelSkipWidth:8,labelSkipHeight:8,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15}))}function S(t){var e,n,o,r=t.show,d=t.showAdditionalData,c=Object(a.useState)([]),s=Object(f.a)(c,2),p=s[0],w=s[1],b=Object(a.useState)([]),g=Object(f.a)(b,2),E=g[0],S=g[1],x=Object(a.useState)(Date.now()),D=Object(f.a)(x,2),O=(D[0],D[1]);Object(a.useEffect)((function(){function t(){return(t=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=w,t.next=3,v();case 3:return t.t1=t.sent,(0,t.t0)(t.t1),t.t2=S,t.next=8,m();case 8:t.t3=t.sent,(0,t.t2)(t.t3);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){var t=setInterval((function(){return O(Date.now())}),9e5);return function(){clearInterval(t)}}),[9e5]),"downloads"===r?(e=function(t){return t.map((function(t){return{ios:t.ios,android:t.android,web:t.web,createdAt:y()(t.createdAt).calendar(null,{sameDay:"[Dnes]",nextWeek:"D dddd",lastDay:"[V\u010dera]",lastWeek:"D dddd",sameElse:"D dddd"})}})).reverse()}(p),n=["ios","android","web"],o="createdAt"):"subscriptions"===r&&(e=h(E).graphSubsData,n=["subs","trial","renewal"],o="graphIndex");var I=h(E).additionalInfoToday,j=h(E).additionalInfoYesterday,T=function(t){var e=t.day,n=t.type,a=t.showDivider,o=void 0===a||a;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,"android ".concat(n,":")+e["android ".concat(n)]),i.a.createElement("div",null,"ios ".concat(n,":")+e["ios ".concat(n)]),i.a.createElement("div",null,"web ".concat(n,":")+e["web ".concat(n)]),o&&i.a.createElement("div",{className:"divider"}))},N=function(t){return i.a.createElement("div",{className:"display-data"},T({day:t[0],type:"subscriptions"}),T({day:t[1],type:"trial"}),T({day:t[2],type:"renewal",showDivider:!1}))};return i.a.createElement(i.a.Fragment,null,i.a.createElement(k,{data:e,keys:n,index:o,show:r}),d&&i.a.createElement("div",{className:"additionalData"},i.a.createElement("div",{className:"additionalDataToday"},N(j)),i.a.createElement("div",{className:"additionalDataYesterday"},N(I))))}var x=function(){return i.a.createElement("div",null,i.a.createElement(S,{show:"downloads"}),i.a.createElement(S,{showAdditionalData:!0,show:"subscriptions"}))};n(1025),n(1026);r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(x,null)),document.getElementById("root"))},525:function(t,e,n){t.exports=n(1027)},752:function(t,e){},754:function(t,e){},764:function(t,e){},766:function(t,e){},793:function(t,e){},795:function(t,e){},796:function(t,e){},802:function(t,e){},804:function(t,e){},822:function(t,e){},825:function(t,e){},841:function(t,e){},844:function(t,e){}},[[525,1,2]]]);
//# sourceMappingURL=main.64901c9b.chunk.js.map